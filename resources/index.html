<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Security-Policy" content="
        default-src
            'self'
            'unsafe-inline'
            https://cdnjs.cloudflare.com
            https://airplane.mywire.org
            https://lancard.github.io
            https://github.com
            https://api.github.com
            https://raw.githubusercontent.com;
         script-src
            'self'
            'unsafe-inline'
            https://cdnjs.cloudflare.com;">
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>K-Installer</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-sb-admin-2/4.1.4/css/sb-admin-2.min.css"
        integrity="sha512-Mk4n0eeNdGiUHlWvZRybiowkcu+Fo2t4XwsJyyDghASMeFGH6yUXcdDI3CKq12an5J8fq4EFzRVRdbjerO3RmQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css" />

    <!-- for loading jQuery -->
    <script>
        if (typeof module === 'object') { window.module = module; module = undefined; }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
        integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.7/dayjs.min.js"
        integrity="sha512-hcV6DX35BKgiTiWYrJgPbu3FxS6CsCjKgmrsPRpUPkXWbvPiKxvSVSdhWX0yXcPctOI2FJ4WP6N1zH+17B/sAA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- for loading jQuery -->
    <script>
        if (window.module) module = window.module;
    </script>
</head>

<body>
    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="sidebar">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="javascript: void(0)"
                onclick="showMenu('k-installer')">
                <div class="sidebar-brand-icon rotate-n-15">
                    <i class="fas fa-plane"></i>
                </div>
                <div logo class="sidebar-brand-text mx-3">K-Installer</div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block">

            <!-- Heading -->
            <div class="sidebar-heading mb-2 mt-2">
                <i class="fas fa-fw fa-tower-cell"></i> Airport Download
            </div>

            <div sceneryAndChart></div>

            <!-- airport menu template -->
            <li class="nav-item collapse" airportMenuTemplate>
                <a class="nav-link" href="javascript: void(0)" onclick="">
                    <span menu-icao class="font-weight-bold text-warning"></span>
                    <small menu-name class="d-none d-lg-inline"></small>
                    <span updateIcon="" class="d-none">
                        <sup class="text-warning">up<i class="fas fa-turn-up text-warning"></i></sup>
                    </span>
                </a>
            </li>

            <!-- Divider -->
            <div class="bottom-copyright">
                <hr class="sidebar-divider d-none d-md-block">

                <li class="nav-item">
                    <a class="nav-link" href="javascript:void(0)" role="button"
                        onclick="alert('w_o_r_s_t_r_o_c_k_e_r@gmail.com plz. (delete underscore before send)')">
                        <i class="fas fa-envelope fa-fw"></i>
                        <span class="mx-2">Email to me</span>
                    </a>
                </li>

                <!-- Nav Item - Github -->
                <li class="nav-item dropdown no-arrow mx-1">
                    <a class="nav-link dropdown-toggle" href="javascript:void(0)" id="messagesDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                        onclick="window.open('https://github.com/lancard')">
                        <i class="fa-brands fa-github"></i>
                        <span class="mx-2">Github Link</span>
                    </a>
                </li>

                <li class="nav-item dropdown no-arrow mx-1 my-4 text-center">
                    <small><span>Copyright &copy; Sungho Kim 2023</span></small>
                </li>
            </div>
        </ul>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <div class="container-fluid" id="k-installer">
                    <div class="m-1" contentsHeader>
                        <h2 class="p-3">
                            <i class="fa-solid fa-helicopter"></i> Welcome to Korea Program and Scenery Installer!
                        </h2>
                    </div>

                    <div class="row p-4">
                        <div class="col-auto">
                            <img src="https://lancard.github.io/k-installer/airport.png">

                            <div class="map-overlay" onclick="showMenu('RKJY')" style="top: 36.2vw; left: 14vw;">
                                <div class="bg-gray-800"><i class="fa-solid fa-plane"></i> RKJY</div>
                                <hr />
                                <div>Yeosu</div>
                            </div>
                            <div class="map-overlay" onclick="showMenu('RKPK')" style="top: 34.2vw; left: 20vw;">
                                <div class="bg-gray-800"><i class="fa-solid fa-plane"></i> RKPK</div>
                                <hr />
                                <div>Gimhae</div>
                            </div>
                            <div class="map-overlay" onclick="showMenu('RKPC')" style="top: 34.2vw; left: 20vw;">
                                <div class="bg-gray-800"><i class="fa-solid fa-plane"></i> RKPC</div>
                                <hr />
                                <div>Gimhae</div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card m-4">
                                <div class="card-header">
                                    <i class="fa-solid fa-plane-circle-check"></i> Installer Version
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <ul class="airport-description text-left">
                                                <li>Latest version: <strong latestVersion="k-installer"></strong></li>
                                                <li>Installed version: <strong installedVersion="k-installer"></strong>
                                                </li>
                                            </ul>

                                        </div>
                                        <div class="col-auto">
                                            <button downloadButton="k-installer" type="button"
                                                class="btn btn-warning btn-sm mx-2 collapse"
                                                onclick="upgradeProgram(this)">Update</button>
                                        </div>
                                    </div>
                                    <div downloadStatus="k-installer" class="collapse">
                                        <h4 statusMessage class="text-primary">Download in progress...</h4>
                                        <h4>Download: <span transferred>0</span></h4>
                                        <h4>Speed: <span speed>0</span></h4>
                                    </div>
                                </div>
                            </div>

                            <div class="card m-4">
                                <div class="card-header">
                                    <i class="fa-solid fa-plane-up"></i> FS2020 'Community' Folder
                                </div>
                                <div class="card-body">
                                    <span id="communityDirectory">(Loading)</span>
                                    <button type="button" class="btn btn-primary btn-sm mx-4 p-2"
                                        onclick="selectDirectory('fs2020');">Select Directory</button>
                                </div>
                            </div>

                            <div class="card m-4">
                                <div class="card-header">
                                    <i class="fa-solid fa-plane-up"></i> FSX/P3D scenery save Folder
                                </div>
                                <div class="card-body">
                                    <span id="addonSceneryDirectory">(Loading)</span>
                                    <button type="button" class="btn btn-primary btn-sm mx-4 p-2"
                                        onclick="selectDirectory('p3d');">Select Directory</button>
                                </div>
                            </div>

                        </div>
                    </div>



                </div>

            </div>
        </div>

    </div>



    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <!-- airport template -->
    <div airportTemplate class="container-fluid collapse">
        <div class="m-1" contentsHeader>
            <h2 class="p-3">
                <i class="fa-solid fa-plane-departure"></i>
                <span icao></span> - <span airportName></span>
            </h2>
        </div>

        <div class="row px-4 mt-4 mb-2">
            <div class="col-auto">
                <img airportImage src="" width="400" class="m-1">
            </div>
            <div class="col m-2">
                <ul class="airport-description">
                    <li>ICAO: <strong icao></strong></li>
                    <li>NAME: <strong airportName></strong></li>
                    <li>METAR: <strong class="text-warning" metarArea></strong>
                        <button type="button" metarRefreshButton class="btn btn-sm btn-warning"
                            onclick="updateAllMetar();">
                            <i class="fa fa-refresh"></i> Refresh
                        </button>
                    </li>
                </ul>
            </div>
        </div>

        <hr />



        <h4 class="mx-4">
            <i class="fa-solid fa-map-location"></i> Charts - General/Area
        </h4>
        <div class="row mx-4 mb-4" chartArea="GENERAL"></div>



        <h4 class="mx-4">
            <i class="fa-solid fa-car"></i> Charts - Aerodrome
        </h4>
        <div class="row mx-4 mb-4" chartArea="AD"></div>


        <h4 class="mx-4">
            <i class="fa-solid fa-route"></i> Charts - Procedures
        </h4>
        <div class="row mx-4 mb-4" chartArea="PROCEDURE"></div>


        <h4 class="mx-4">
            <i class="fa-solid fa-mountain-sun"></i> Scenery
        </h4>
        <div class="row mx-4">
            <div class="col">
                <div class="card" sceneryType="fs2020">
                    <div class="card-header">
                        <i class="fa-solid fa-people-carry-box"></i> FS2020
                        <button downloadButton="" type="button" class="btn btn-sm btn-primary mx-2"
                            onclick="upgradeProgram(this)">Install / Update</button>
                        <button downloadButton="" type="button" class="btn btn-sm btn-danger mx-2"
                            onclick="removeProgram(this)">Remove</button>
                    </div>
                    <div class="card-body text-center pt-2 pb-0">
                        <ul class="airport-description text-left">
                            <li>Author: <strong author></strong></li>
                            <li>License: <strong license></strong></li>
                            <li>Latest version: <strong latestVersion=""></strong></li>
                            <li>Installed version: <strong installedVersion=""></strong></li>
                            <li>Installed directory:
                                <span class="text-small text-white" installedDirectory=""></span>
                            </li>
                        </ul>

                        <div downloadStatus="" class="collapse">
                            <h4 statusMessage class="text-primary">Download in progress...</h4>
                            <h4>Download: <span transferred>0</span></h4>
                            <h4>Speed: <span speed>0</span></h4>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card" sceneryType="p3d">
                    <div class="card-header">
                        <i class="fa-solid fa-people-carry-box"></i> FSX/P3D
                        <button downloadButton="" type="button" class="btn btn-sm btn-primary mx-2"
                            onclick="upgradeProgram(this)">Install / Update</button>
                        <button downloadButton="" type="button" class="btn btn-sm btn-danger mx-2"
                            onclick="removeProgram(this)">Remove</button>
                    </div>
                    <div class="card-body text-center pt-2 pb-0">
                        <ul class="airport-description text-left">
                            <li>Author: <strong author></strong></li>
                            <li>License: <strong license></strong></li>
                            <li>Latest version: <strong latestVersion=""></strong></li>
                            <li>Installed version: <strong installedVersion=""></strong></li>
                            <li>Installed directory:
                                <span class="text-small text-white" installedDirectory=""></span>
                            </li>
                        </ul>

                        <div downloadStatus="" class="collapse">
                            <h4 statusMessage class="text-primary">Download in progress...</h4>
                            <h4>Download: <span transferred>0</span></h4>
                            <h4>Speed: <span speed>0</span></h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->
    <!-- end of airport template -->

    <script src="common.js"></script>
    <script>
        initialization();
    </script>
</body>

</html>